:host {
  display: block;
  direction: rtl;
  --bg-cream: #fffcf5;
  --panel: #ffffff;
  --ink: #2f3a28;
  --ink-muted: #6e7462;
  --line: #cfd7b9;
  --olive-50: #f3f6e9;
  --olive-300: #c7d1a9;
  --olive-600: #748c40;
  --fail: #991b1b;

  padding: 20px;
  color: var(--ink);
  font-family: "Heebo", system-ui, Arial, sans-serif;
}

.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.page-header h2 {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--ink);
}

/* כפתור + */
.fab-round {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 1px solid var(--line);
  background-color: var(--bg-cream);
  color: var(--ink);
  font-size: 24px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 0 0 1px rgba(207, 215, 185, 0.4);
  padding: 0;
}
.fab-round:hover { background-color: #ffffff; }
.fab-round:active { transform: scale(0.96); }

/* ===== search bar ===== */
.search-shell {
  position: relative;
  width: 100%;
  max-width: 460px;
  margin: 8px 0 14px auto;
}

.simple-search-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
  width: 100%;
  max-width: 460px;
  cursor: text;
}


.search-icon, .filter-icon { cursor: pointer; }

.simple-search-input {
  flex: 1;
  border: none;
  background: transparent;
  font-size: 14px;
  font-family: inherit;
  text-align: center;
}
.simple-search-input:not(:placeholder-shown) { text-align: right; }
.simple-search-input::placeholder { color: var(--ink-muted); }
.simple-search-input:focus { outline: none; }

/* panel */
.search-panel {
  position: absolute;
  inset-inline-end: 0;
  margin-top: 4px;
  min-width: 260px;
  padding: 10px 12px;
  background: #fff;
  border-radius: 14px;
  border: 1px solid var(--line);
  box-shadow: 0 8px 18px rgba(0,0,0,.15);
  z-index: 100;
  font-size: 13px;
}
.panel-title { font-weight: 700; margin-bottom: 6px; }
.panel-option { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }
.panel-label { display: block; margin-top: 6px; margin-bottom: 2px; font-size: 12px; color: var(--ink-muted); }
.search-panel select {
  width: 100%;
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid var(--line);
  font-size: 13px;
  font-family: inherit;
  background: #fff;
}
.panel-clear {
  margin-top: 8px;
  width: 100%;
  padding: 6px 8px;
  font-size: 13px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: #f6f7ee;
  cursor: pointer;
}
.panel-clear:hover { filter: brightness(0.97); }

/* מצבי מערכת */
.loading-state,
.error-state,
.empty-state {
  background: var(--panel);
  border: 1.5px solid var(--line);
  border-radius: 16px;
  padding: 14px 16px;
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
}
.error-state { color: var(--fail); }

/* ===== טבלה ===== */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--panel);
  border: 1.5px solid var(--line);
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
}
thead th {
  background: var(--olive-50);
  color: var(--ink);
  font-weight: 700;
  text-align: right;
  padding: 12px 14px;
  white-space: nowrap;
  border-bottom: 1.5px solid var(--line);
}
tbody td {
  padding: 12px 14px;
  color: var(--ink);
  border-bottom: 1px solid #e9eddc;
  text-align: right;
}
tbody tr:hover td { background: var(--bg-cream); }
tbody tr.clickable-row { cursor: pointer; }
tbody tr:last-child td { border-bottom: none; }

/* ===== מגירה ===== */
.drawer-container {
  position: static;
  pointer-events: none;
  z-index: auto;
}
.drawer-container.drawer-open {
  position: inherit;
  inset: 80px 0 0 0;
  z-index: 1000;
  pointer-events: none;
}
.drawer-pane {
  width: 420px;
  max-width: 95vw;
  background: var(--panel);
  padding: 14px 14px 16px;
  box-shadow: -8px 0 24px rgba(0,0,0,.12);
  border-inline-start: 1px solid var(--line);
  pointer-events: all;
  transform: translateX(100%);
  transition: transform .2s ease;
  z-index: 1001;
}
.drawer-container.drawer-open .drawer-pane { transform: translateX(0); }

.drawer-topbar {
  display: grid;
  grid-template-columns: 32px 1fr auto;
  gap: 10px;
  align-items: center;
  padding-bottom: 10px;
  border-bottom: 1px solid #eef2e3;
  margin-bottom: 12px;
}

.close-btn {
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  line-height: 1;
  color: var(--ink-muted);
}
.close-btn:hover { color: var(--ink); }

.topbar-center { text-align: center; }
.topbar-title { font-weight: 800; font-size: 15px; color: var(--ink); }
.topbar-subtitle { font-weight: 700; font-size: 13px; color: var(--ink-muted); margin-top: 2px; }

.topbar-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.mode-chip {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  font-size: 12px;
  font-weight: 700;
  color: var(--ink-muted);
  background: #fff;
}
.mode-chip.active {
  background: var(--olive-50);
  color: var(--ink);
  border-color: var(--olive-300);
}

.edit-btn {
  border: none;
  background: var(--olive-600);
  color: #fff;
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 13px;
  cursor: pointer;
}
.edit-btn:hover { filter: brightness(0.97); }

.hint { color: var(--ink-muted); }

/* ===== Section Cards כדי שהכותרות יהיו כמו בילדים ===== */
.section-card {
  background: #fafafa;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 10px 12px;
  margin-bottom: 10px;
}
.section-title {
  font-size: 14px;
  font-weight: 900;
  color: var(--ink);
  margin-bottom: 10px;
  border-bottom: 1px dashed #dde5c6;
  padding-bottom: 6px;
}

.grid2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.colspan { grid-column: 1 / -1; }

label {
  font-size: 12px;
  color: var(--ink-muted);
}
.val {
  font-weight: 700;
  color: var(--ink);
  background: #ffffff;
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid #eef2e3;
}
.prewrap { white-space: pre-wrap; }

.field-input,
.field-textarea {
  width: 100%;
  box-sizing: border-box;
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid var(--line);
  font-family: inherit;
  font-size: 13px;
  background: #fff;
}
.field-textarea { resize: vertical; }

.drawer-actions {
  margin-top: 12px;
  display: flex;
  gap: 8px;
  justify-content: flex-start;
}
.drawer-actions .primary {
  border: none;
  background: var(--olive-600);
  color: #fff;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 13px;
  cursor: pointer;
}
.drawer-actions .secondary {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--ink);
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 13px;
  cursor: pointer;
}
.drawer-actions button[disabled] { opacity: 0.6; cursor: default; }

.instructor-photo {
  max-width: 100%;
  border-radius: 12px;
}

/* לו"ז */
.work-table {
  margin-top: 6px;
  border-radius: 12px;
  border: 1px solid var(--line);
  overflow: hidden;
  font-size: 13px;
}
.work-header-row,
.work-row {
  display: grid;
  grid-template-columns: 1.1fr 1fr 1fr 1.4fr;
}
.work-header-row {
  background: var(--olive-50);
  font-weight: 700;
  color: var(--ink);
}
.work-header-row > div,
.work-row > div {
  padding: 6px 8px;
  border-bottom: 1px solid #e9eddc;
}
.work-row:last-child > div { border-bottom: none; }

/* מובייל */
@media (max-width: 700px) {
  .drawer-pane { width: 100vw; max-width: 100vw; }
  .grid2 { grid-template-columns: 1fr; }
}
/* ===== Drawer: look like parents ===== */

.drawer-pane {
  width: 420px;
  max-width: 95vw;
  background: var(--panel);
  padding: 14px;
  border-inline-start: 1px solid var(--line);
}

.drawer-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #e9eddc;
  margin-bottom: 10px;
}

.drawer-title-text {
  font-size: 18px;
  font-weight: 800;
  color: var(--ink);
}

.drawer-subtitle {
  margin-top: 2px;
  font-size: 13px;
  color: var(--ink-muted);
  font-weight: 700;
}

.drawer-mode {
  display: flex;
  gap: 8px;
  margin: 10px 0 12px;
}

.mode-pill {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--ink);
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
}

.mode-pill.active {
  background: var(--olive-100);
  border-color: var(--olive-300);
}

.drawer-body {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: calc(100vh - 170px);
  overflow: auto;
  padding-inline-end: 4px;
}

/* סעיפים כמו בהורים */
.section-card {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 12px;
}

.section-title {
  margin: 0 0 10px;
  font-size: 14px;
  font-weight: 900;
  color: var(--ink);
}

/* גריד של שדות – לא “ריבועים צפופים” */
.fields-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.fields-grid.one-col {
  grid-template-columns: 1fr;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.field.colspan {
  grid-column: 1 / -1;
}

.field label {
  font-size: 12px;
  color: var(--ink-muted);
  font-weight: 700;
}

/* תצוגה (val) כמו input */
.val {
  background: #fff;
  border: 1px solid #e9eddc;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 700;
  color: var(--ink);
}

.prewrap { white-space: pre-wrap; }

.field-input,
.field-textarea {
  width: 100%;
  box-sizing: border-box;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid #e9eddc;
  font-family: inherit;
  font-size: 13px;
  background: #fff;
}

.field-textarea { resize: vertical; }

@media (max-width: 700px) {
  .drawer-pane { width: 100vw; max-width: 100vw; }
  .fields-grid { grid-template-columns: 1fr; }
}
/* ===== Drawer (final like parents/children) ===== */

.drawer-pane {
  width: 420px;
  max-width: 95vw;
  background: var(--panel);
  padding: 14px;
  border-inline-start: 1px solid var(--line);
  box-shadow: -8px 0 24px rgba(0,0,0,.12);
}

.drawer-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #e9eddc;
  margin-bottom: 10px;
}

.drawer-title {
  min-width: 0;
}

.drawer-title-text {
  font-size: 18px;
  font-weight: 800;
  color: var(--ink);
  line-height: 1.2;
}

.drawer-subtitle {
  margin-top: 2px;
  font-size: 13px;
  color: var(--ink-muted);
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.close-btn {
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
  line-height: 1;
  color: var(--ink-muted);
}
.close-btn:hover { color: var(--ink); }

/* Mode bar */
.drawer-mode {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 10px 0 12px;
  flex-wrap: nowrap;           
}

.mode-pill {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--ink);
  padding: 7px 12px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
  white-space: nowrap;
}

.mode-pill.active {
  background: var(--olive-50);    /* קיים אצלך */
  border-color: var(--olive-300); /* קיים אצלך */
}

/* Green edit button (like parents) */
.edit-primary {
  margin-inline-start: auto;      /* דוחף אותו לקצה (ימין ב-RTL) */
  border: none;
  background: var(--olive-600);
  color: #fff;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
  white-space: nowrap;
}
.edit-primary:hover { filter: brightness(0.97); }

.drawer-body {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: calc(100vh - 170px);
  overflow: auto;
  padding-inline-end: 4px;
}

/* Section cards */
.section-card {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 12px;
}

.section-title {
  margin: 0 0 10px;
  font-size: 14px;
  font-weight: 900;
  color: var(--ink);
  padding-bottom: 8px;
  border-bottom: 1px dashed #dde5c6;
}

/* Fields layout */
.fields-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.fields-grid.one-col {
  grid-template-columns: 1fr;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.field.colspan {
  grid-column: 1 / -1;
}

.field label {
  font-size: 12px;
  color: var(--ink-muted);
  font-weight: 700;
}

.val {
  background: #fff;
  border: 1px solid #e9eddc;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 700;
  color: var(--ink);
}

.field-input,
.field-textarea {
  width: 100%;
  box-sizing: border-box;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid #e9eddc;
  font-family: inherit;
  font-size: 13px;
  background: #fff;
}

.field-textarea { resize: vertical; }

.drawer-actions {
  margin-top: 12px;
  display: flex;
  gap: 8px;
}

.drawer-actions .primary {
  border: none;
  background: var(--olive-600);
  color: #fff;
  padding: 10px 14px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
}

.drawer-actions .secondary {
  border: 1px solid var(--line);
  background: #fff;
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
}

.drawer-actions button[disabled] { opacity: 0.6; cursor: default; }

@media (max-width: 700px) {
  .drawer-pane { width: 100vw; max-width: 100vw; }
  .fields-grid { grid-template-columns: 1fr; }
  .drawer-mode { flex-wrap: wrap; } /* רק במובייל מותר לשבור */
}

/* range cards (ages by gender) */
/* ===== Age inputs: make numbers visible ===== */
.range-card .fields-grid.three-cols{
  /* שתי עמודות ברורות למגיל/עד גיל 
  grid-template-columns: repeat(2, minmax(96px, 140px)) !important;*/
  justify-content: start;
  align-items: end;
  gap: 10px;
}

/* מספרים: גדולים, בולטים, לא נחתכים */
.range-card .field-input[type="number"]{
  height: 44px;
  min-width: 60px;
  padding: 0 12px;

  font-size: 16px;
  font-weight: 800;
  line-height: 44px;

  text-align: center;
  direction: ltr;

  color: var(--ink);
  background: var(--bg-cream);
  border: 1.5px solid var(--line);
  border-radius: 14px;
}

/* פוקוס ברור */
.range-card .field-input[type="number"]:focus{
  outline: none;
  box-shadow: 0 0 0 3px rgba(116, 140, 64, 0.18);
}

/* במובייל עדיין שתי עמודות (כדי לא “להיעלם”) */
@media (max-width: 700px){
  .range-card .fields-grid.three-cols{
    grid-template-columns: repeat(2, minmax(96px, 1fr)) !important;
  }
}


.range-card.disabled{
  opacity: .6;
}

.range-title{
  font-weight: 900;
  margin-bottom: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
}

.meta-chip{
  display: inline-flex;
  align-items: center;
  height: 24px;
  padding: 0 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--olive-50);
  font-weight: 800;
  font-size: 12px;
}

.meta-chip.muted{ opacity: .75; }

/* modifier ל-3 cols בתוך drawer */
.fields-grid.three-cols{
  grid-template-columns: 1fr 1fr 1fr;
}

/* Chrome/Edge/Safari */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}


