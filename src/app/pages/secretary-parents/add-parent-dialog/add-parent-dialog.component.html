<div class="parent-dialog-root">
  <div class="parent-header">
    <button type="button" class="icon-close" (click)="cancel()" aria-label="סגירת חלון">
      ×
    </button>
    <h3 class="parent-title" dir="rtl">הוספת הורה חדש</h3>
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()" dir="rtl">
    <div class="form-grid">
      <div class="field">
        <label>שם פרטי</label>
        <input formControlName="first_name" />
        <div class="err"><span *ngIf="form.controls['first_name']?.touched && form.controls['first_name']?.invalid">
            חובה להזין שם פרטי (לפחות 2 תווים)</span>
        </div>
      </div>

      <div class="field">
        <label>שם משפחה</label>
        <input formControlName="last_name" />
        <div class="err"><span *ngIf="form.controls['last_name']?.touched && form.controls['last_name']?.invalid">
          חובה להזין שם משפחה (לפחות 2 תווים)</span>
        </div>
      </div>

      <div class="field">
        <label>אימייל</label>
        <input formControlName="email" />
        <div class="err" ><span *ngIf="form.controls['email']?.touched && form.controls['email']?.invalid">
          חובה להזין אימייל תקין</span>
        </div>
      </div>

      <div class="field">
        <label>טלפון</label>
        <input formControlName="phone" />
        <div class="err" ><span *ngIf="form.controls['phone']?.touched && form.controls['phone']?.invalid">
          חובה להזין טלפון</span>
        </div>
      </div>

      <div class="field">
        <label>תעודת זהות</label>
        <input formControlName="id_number" />
        <div class="err" ><span *ngIf="form.controls['id_number']?.touched && form.controls['id_number']?.invalid">
          חובה להזין ת"ז</span>
        </div>
      </div>

      <div class="field">
        <label>כתובת</label>
        <input formControlName="address" />
        <div class="err"> <span *ngIf="form.controls['address']?.touched && form.controls['address']?.invalid">
          חובה להזין כתובת</span>
        </div>
      </div>
    </div>

    <div class="field">
      <label>הערות</label>
      <textarea formControlName="extra_notes" rows="3"></textarea>
    </div>

    <fieldset formGroupName="prefs" class="prefs-box">
      <legend>העדפות תקשורת</legend>
      <label>
        <input type="checkbox" formControlName="inapp" />
        אפליקציה (חובה)
      </label>
      <label>
        <input type="checkbox" formControlName="email" />
        אימייל
      </label>
      <label>
        <input type="checkbox" formControlName="sms" />
        SMS
      </label>
      <label>
        <input type="checkbox" formControlName="whatsapp" />
        וואטסאפ
      </label>
    </fieldset>

    <div class="actions">
      <button type="button" class="cancel" (click)="cancel()" [disabled]="submitting">
        ביטול
      </button>
      <button type="submit" class="save" [disabled]="submitting">
        שמור
      </button>
    </div>
  </form>
</div>