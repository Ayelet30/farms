<div class="req" *ngIf="details() as d; else loadingTpl">
  <div class="req-title">ביטול שיעור</div>

  <div class="grid">
    <div class="box"><span class="k">ילד/ה:</span><span class="v">{{ d.child_name || '—' }}</span></div>
    <div class="box"><span class="k">מדריך/ה:</span><span class="v">{{ d.instructor_name || '—' }}</span></div>
    <div class="box"><span class="k">תאריך:</span><span class="v">{{ d.occur_date | date:'dd/MM/yyyy' }}</span></div>
    <div class="box"><span class="k">שעה:</span><span class="v">{{ d.start_time }} - {{ d.end_time }}</span></div>
    <div class="box wide"><span class="k">סיבה לביטול:</span><span class="v">{{ d.reason || '—' }}</span></div>
    <div class="box"><span class="k">הודיעו בתאריך:</span><span class="v">{{ d.notified_at | date:'dd/MM/yyyy HH:mm' }}</span></div>
    <div class="box"><span class="k">ביטולים בסדרה:</span><span class="v">{{ d.cancelled_count_in_series }}</span></div>
  </div>

  <div class="note">
    <label>הערה להחלטה (אופציונלי)</label>
    <textarea [(ngModel)]="decisionNote" rows="2" placeholder="למזכירה / להורה..."></textarea>
  </div>

  <div class="actions">
    <button class="btn reject" (click)="reject()" [disabled]="loading()">דחייה</button>
    <button class="btn approve" (click)="approve()" [disabled]="loading()">אישור</button>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loading">טוען פרטים...</div>
</ng-template>
